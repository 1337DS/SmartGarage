[?1049h[22;0;0t[1;50r(B[m[4l[?7h[39;49m[?1h=[?1h=[?1h=[?25l[39;49m(B[m[H[2J[48;84H(B[0;7m[ Datei wird gelesen ](B[m[48;86H(B[0;7m239 Zeilen[48;106H(B[m[H(B[0;7m  GNU nano 3.2                                                                            pipeline.py                                                                                        [1;188H(B[m[49d(B[0;7m^G(B[m Hilfe[49;18H(B[0;7m^O(B[m Speichern     (B[0;7m^W(B[m Wo ist[49;52H(B[0;7m^K(B[m Ausschneiden  (B[0;7m^J(B[m Ausrichten    (B[0;7m^C(B[m Cursor[49;103H(B[0;7mM-U(B[m RÃ¼ckgÃ¤ngig   (B[0;7mM-A(B[m Text markiere(B[0;7mM-](B[m Zu Klammer   (B[0;7mM-Q(B[m Vorige[171G(B[0;7m^B(B[m ZurÃ¼ck[50d(B[0;7m^X(B[m Beenden[18G(B[0;7m^R(B[m Datei Ã¶ffnen  (B[0;7m^\(B[m Ersetzen[52G(B[0;7m^U(B[m Ausschn. r    (B[0;7m^T(B[m Rechtschr.    (B[0;7m^_(B[m Zu Zeile[103G(B[0;7mM-E(B[m Wiederholen  (B[0;7mM-6(B[m Kopieren     (B[0;7m^Q(B[m Wo war[50;154H(B[0;7mM-W(B[m NÃ¤chste[171G(B[0;7m^F(B[m VorwÃ¤rts[48d[3d(B[0;1m[31m#!/usr/bin/env python3[4d[36mimport[39m(B[m cv2[5d(B[0;1m[36mimport[39m(B[m depthai (B[0;1m[36mas[39m(B[m dai[7d(B[0;1m[31m#imports[8d[36mfrom[39m(B[m datetime (B[0;1m[36mimport[39m(B[m datetime[9d(B[0;1m[36mimport[39m(B[m re[10dkz = (B[0;1m[32m"KALF3006"[12d[36mimport[39m(B[m numpy (B[0;1m[36mas[39m(B[m np[13d(B[0;1m[36mimport[39m(B[m imutils[15d(B[0;1m[36mimport[39m(B[m pytesseract[16d(B[0;1m[36mfrom[39m(B[m difflib (B[0;1m[36mimport[39m(B[m SequenceMatcher[17d(B[0;1m[31m#import easyocr(B[0m[42m  [19d(B[0;1m[36mdef[34m openGarage[39m(B[m(kennzeichen, lf, wl):[20;4H(B[0;1m[31m #belegt status[21;5H[39m(B[moccupied = 0(B[0;1m[31m #Ausblick[22;4H #files[23;5H[39m(B[mlog_file = open(lf, (B[0;1m[32m"a"[39m(B[m)[25;4H(B[0;1m[31m #read logfile[26;5H[36mwith[39m(B[m open(lf) (B[0;1m[36mas[39m(B[m file:[27;9Hlines = file.readlines()[28;9Hlogs = [line.rstrip() (B[0;1m[36mfor[39m(B[m line (B[0;1m[36min[39m(B[m lines][30;4H(B[0;1m[31m #read whitelist[31;5H[36mwith[39m(B[m open(wl) (B[0;1m[36mas[39m(B[m file:[32;9Hlines = file.readlines()[33;9Hwhitelist = [line.rstrip() (B[0;1m[36mfor[39m(B[m line (B[0;1m[36min[39m(B[m lines][34d[42m    [35d(B[0;1m[36mif[39m(B[m len(logs) > 0:[36;9Hlog = open((B[0;1m[32m"log.txt"[39m(B[m, (B[0;1m[32m"r"[39m(B[m)[37;9Hlines = log.readlines()[38;9Hlast_line = lines[-1][39;9Hts = datetime.strptime(re.findall((B[0;1m[32m".+?(?= ->)"[39m(B[m, last_line)[0], (B[0;1m[32m'%d/%m/%y %H:%M:%S'[39m(B[m)[40;4H(B[0;1m[31m #if kennzeichen in whitelist dann ÃƒÂ¶ffne[41;5H[36mif[39m(B[m kennzeichen (B[0;1m[36min[39m(B[m whitelist (B[0;1m[36mand[39m(B[m (len(logs) == 0 (B[0;1m[36mor[39m(B[m int((datetime.now()-ts).seconds)>30) (B[0;1m[36mand[39m(B[m occupied == 0:[42;9Hts = datetime.now().strftime((B[0;1m[32m'%d/%m/%y %H:%M:%S'[39m(B[m)[43;9Hprint(f(B[0;1m[32m"Garagentor wird geÃƒÂ¶ffnet fÃƒÂ¼r {kz}"[39m(B[m)[44;9Hlog_file.write(f(B[0;1m[32m"{ts} -> {kz}\n"[39m(B[m)[45;5H(B[0;1m[36melif[39m(B[m kz (B[0;1m[36min[39m(B[m whitelist (B[0;1m[36mand[39m(B[m int((datetime.now()-ts).seconds)<=30:[46;9Hprint(f(B[0;1m[32m"In {30-int((datetime.now()-ts).seconds)} Sekunden wieder verfÃƒÂ¼gbar"[39m(B[m)[47;5H(B[0;1m[36melse[39m(B[m:[3d[?12l[?25h[?25l[48;66H(B[0;7m[ Zeile 1/240 (0%), Spalte 1/23 (4%), Zeichen 0/6021 (0%) ](B[m[3d[?12l[?25h[?25l[4d[?12l[?25h[?25l[A[?12l[?25h[?25l[4d[?12l[?25h[?25l[A[?12l[?25h[?25l[48;125H[3d[?12l[?25h[?25l[48;125H[3d[?12l[?25h[?25l[?12l[?25h[?25l[48;125H[3d[?12l[?25h[?25l[?12l[?25h[?25l[4d[?12l[?25h[?25l[A[?12l[?25h[?25l[4d[?12l[?25h[?25l[48;65H(B[0;7m[ Zeile 2/240 (0%), Spalte 1/11 (9%), Zeichen 23[48;125H(B[m[4d[?12l[?25h[?25l[48;125H[4d[?12l[?25h[50;1H[?1049l[23;0;0t[?1l>